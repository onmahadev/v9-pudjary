<!DOCTYPE html>
<html lang="ru" class="antialiased">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>v7: Новый поток / отчетность  </title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <!-- <link href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css" rel=" stylesheet"> -->
    <link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/production_v7.css') }}">
    

    <!-- <script src="{{url_for('static', filename = 'js/faker.min.js')}}"></script> -->

    <script src="{{url_for('static', filename = 'js/flowbite.js')}}"></script>
    
    <script src="{{url_for('static', filename = 'js/datepicker.js')}}"></script>

    <script src="{{url_for('static', filename = 'js/socket.io.min.js')}}"></script>
    
    <script src="{{url_for('static', filename = 'js/ovmenu.js')}}"></script>
    <!-- <script defer src="{{url_for('static', filename = 'js/alpine3.10.2.min.js')}}"></script> -->

    <script src="{{url_for('static', filename = 'js/jquery-3.6.0.min.js')}}"></script>

        

    <link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/ovmenu.css') }}">
    <link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/flow.css') }}">
    <!-- <link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/jquery-editable.css') }}"> -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <!--Replace with your tailwind.css once created-->



<style>
          .blink {
              animation: blinker 2.1s linear infinite;
              font-family: sans-serif;
          }
          @keyframes blinker {
              50% {
                  opacity: 0.4;
              }
          }
.content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 160px;
  overflow: hidden;
  font-family: "Lato", sans-serif;
  font-size: 35px;
  line-height: 40px;
  color: #ecf0f1;
}
.content__container {
  font-weight: 600;
  overflow: hidden;
  height: 40px;
  padding: 0 40px;
}
.content__container:before {
  content: "[";
  left: 0;
}
.content__container:after {
  content: "]";
  position: absolute;
  right: 0;
}
.content__container:after, .content__container:before {
  position: absolute;
  top: 0;
  color: #a01616;
  font-size: 42px;
  line-height: 40px;
  -webkit-animation-name: opacity;
  -webkit-animation-duration: 2s;
  -webkit-animation-iteration-count: infinite;
  animation-name: opacity;
  animation-duration: 2s;
  animation-iteration-count: infinite;
}
.content__container__text {
  display: inline;
  float: left;
  margin: 0;
}
.content__container__list {
  margin-top: 0;
  padding-left: 110px;
  text-align: left;
  list-style: none;
  -webkit-animation-name: change;
  -webkit-animation-duration: 10s;
  -webkit-animation-iteration-count: infinite;
  animation-name: change;
  animation-duration: 10s;
  animation-iteration-count: infinite;
}
.content__container__list__item {
  line-height: 40px;
  margin: 0;
}

@-webkit-keyframes opacity {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}
@-webkit-keyframes change {
  0%, 12.66%, 100% {
    transform: translate3d(0, 0, 0);
  }
  16.66%, 29.32% {
    transform: translate3d(0, -25%, 0);
  }
  33.32%, 45.98% {
    transform: translate3d(0, -50%, 0);
  }
  49.98%, 62.64% {
    transform: translate3d(0, -75%, 0);
  }
  66.64%, 79.3% {
    transform: translate3d(0, -50%, 0);
  }
  83.3%, 95.96% {
    transform: translate3d(0, -25%, 0);
  }
}
@keyframes opacity {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}
@keyframes change {
  0%, 12.66%, 100% {
    transform: translate3d(0, 0, 0);
  }
  16.66%, 29.32% {
    transform: translate3d(0, -25%, 0);
  }
  33.32%, 45.98% {
    transform: translate3d(0, -50%, 0);
  }
  49.98%, 62.64% {
    transform: translate3d(0, -75%, 0);
  }
  66.64%, 79.3% {
    transform: translate3d(0, -50%, 0);
  }
  83.3%, 95.96% {
    transform: translate3d(0, -25%, 0);
  }
}  


.ats[att_sex1="1"] {
  margin: 40px;
  background: rgba(0, 0, 0, 0.3);
  color: #fff;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);
}




select option[value="29"] {
  background: rgba(154, 25, 25, 0.3);
}

select option[value="31"] {
  background: rgba(16, 174, 71, 0.3);
}

select option[value="33"] {
  background: rgba(200, 200, 200, 0.3);
}

select option[value="35"] {
  background: rgba(163, 29, 145, 0.3);
}

body {
  -webkit-user-select: none; /* Safari */
  -ms-user-select: none; /* IE 10 and IE 11 */
  user-select: none; /* Standard syntax */
  -webkit-touch-callout: none;
  -khtml-user-select: none;
  -moz-user-select: none;
}

</style>



</head>

<body class="bg-opacity-25 leading-normal">



    <!-- Sudarshana Chkra-->
    <span class="f7_main_sc">
      <a href="/quit">
        <div id="pica" class="pica">
            <img src="static/img/v7-tilaka-white.png" alt="f7v-logo"
                class="shadow rounded-full mt-4 ml-4 h-9 align-middle border-none" />
        </div>
      </a>
    </span>








    <!-- Slider MENU-->
    {% include 'nav.html' %}
    <!-- Slider MENU-->












<div>
    <!-- Rest of the HTML -->

    
  </div>








<div class="min-h-screen bg-gray-700 py-5 topper">



  
  
    <div class='overflow-x-auto w-full'>
      <div class="p-2 bg-indigo-800 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex" role="alert">
  
        <!-- <form id="restart_flow_form" action="{{url_for('newflow')}}" method="POST"> -->
            <button alt="restart" id="restart_brm" onclick="restartApp()" type="submit" class="px-32 mx-32 focus:outline-none text-white bg-gray-100 hover:bg-gray-100 focus:ring-2 focus:ring-blue-300 hover:border-white border-transparent border-1 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-1 py-1 mb-0 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900">
              <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z" clip-rule="evenodd"></path></svg>
           <svg class="w-10 h-10 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11"></path></svg>
          </button>
         <!-- </form> -->  
1) Выберите вес, категорию и группу, 2) Распечатайте</span>
        <svg class="fill-current opacity-75 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"/></svg>

        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>

      </div>


      
        </div>
        &nbsp;
        <form action="{{url_for('bkp_v7now')}}" id="myform2" method="GET" formtarget=”_self”>
        <button  alt="pdf" id="newflowbkp_btn" onclick="do_bkp_and_reportz();" class="hidden focus:outline-none text-white bg-gray-100 hover:bg-red-800 focus:ring-2 focus:ring-blue-300 hover:border-white border-transparent border-1 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-1 py-1 mb-0 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900 px-4 mx-4" >
          <div class="p-4 bg-green-500 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex" role="alert">
                <p class="text-3xl">1:</p>
                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>
    
             
      </div>
      </button>  
          
      </form>




<div class="pl-7 mt-5 inline-block">
  <div class="inline-block border-white border-0">



<div class="inline-block border-white border-0 mx-32 px-32">
  <p>&nbsp;&nbsp;&nbsp;</p>
  </div>





  


<div class="inline-block border-white border-0 mx-32 px-32">

   

    <!-- <div class="p-2 bg-gray-600 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex" role="alert"> -->
  
        <form id="newflowbkp_form" method="POST">
      <span class="font-semibold mr-2 text-left flex-auto">
         <!-- &nbsp;<b>PDF</b> отчеты потока-->
         <div>
          <div class="inline-flex rounded-lg h-5">
            <input type="radio" name="sex" onchange="change_sex_newatt('male')" value="1" id="male_fe" checked/>
            <label for="male_fe" class="lbl radio text-center self-center py-1 px-4 rounded-lg cursor-pointer hover:opacity-95">муж</label>
          </div>
          <div class="inline-flex rounded-lg h-5">
            <input type="radio" name="sex"  onchange="change_sex_newatt('female')" value="0" id="female_fe" />
            <label for="female_fe" class="lbl radio text-center self-center py-1 px-4 rounded-lg cursor-pointer hover:opacity-95">жен</label>
          </div>
        </div>


        <select id="wcate" name="wcat" onchange="close_lishok();"
        class="bg-gray-50 px-3 border border-gray-300 text-gray-900 text-lg rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ">
        <option id="optwce_m_all" class="ats10" att_sex1="10" att-sex="10" value="all">
          Все категории *
        </option>        
        {% for data in wcatdata__oz %}

        {% if data.sex == 0 %}
        <option id="optwce_f_{{data.wcat}}" class="ats0" att_sex1="0" att-sex="0" value="{{data.id}}">
          {{data.lwcat}} (жен ♀)
        {% elif data.sex == 1 %}
        <option id="optwce_m_{{data.wcat}}" class="ats1" att_sex1="1" att-sex="1" value="{{data.id}}">
          {{data.lwcat}} (муж)
          {% endif %}


        </option>
        {%endfor%}


        </select>
        <!-- <p class="text-1xl p-4 text-indigo-100">2</p>   -->
        


        











        </span>
    <!-- </div> -->
  </div>

&nbsp;
<form id="new_at_bkp_form" action="{{url_for('bkp_v7now')}}" method="POST">
  
  <button  alt="pdf" id="newflowbkp_btn" onclick="do_bkp_and_reportz();" type="submit" class="focus:outline-none text-white bg-gray-100 hover:bg-green-800 focus:ring-2 focus:ring-blue-300 hover:border-white border-transparent border-1 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-1 py-1 mb-0 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900 px-4 mx-4" formtarget=”_blank” >          
    <div class="p-4 bg-red-500 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex" role="alert">
          <p class="text-3xl"></p>  

          <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path></svg>
       
</div>
</button>  
    
</form>


<span class="text-white"></span>
    
<button id="toggleBTN" onclick="toggle_ws_info()" type="button" class="hidden hover:border-white border-transparent border-2 focus:border-gray-100 text-gray-400 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-1 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path></svg> 
</button>


<button id="toggleBTN_WR" onclick="toggle_wr_info()" type="button" class="hidden hover:border-white border-transparent border-2 focus:border-gray-100 text-gray-400 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-1 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900">
  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
</button>

</div>


<div id="wr_info_div" class="hidden overflow-x-auto shadow-md sm:rounded-lg pl-12">
  <table class="w-2/12 text-sm text-left text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-opacity-15 bg-gray-400 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="py-3 px-6">
          Резервное копирование завершено -
        </th>
      

      </tr>
    </thead>
    <tbody>
      <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
        <td scope="row" class="py-4 px-6 text-2xl font-bold text-gray-900 whitespace-nowrap dark:text-white">
          успешно !
        </td>
     
      </tr>
    </tbody>
  </table>
</div>








  <script>
function do_bkp_and_reportz() {
    var x = document.getElementById("wr_info_div");    
    var tbx = document.getElementById("toggleBTN_WR");    
    if (x.className.includes("hidden")) {
        x.classList.remove("hidden");
        tbx.classList.remove("text-gray-400");
        tbx.classList.add("text-gray-100");
    } else {
        x.classList.add("hidden");
        tbx.classList.remove("text-gray-100");
        tbx.classList.add("text-gray-400");
    }
    // document.getElementById("newflowbkp_btn").submit();    
}

function toggle_ws_info() {
    var x = document.getElementById("ws_info_div");    
    var tbx = document.getElementById("toggleBTN");    
    if (x.className.includes("hidden")) {
        x.classList.remove("hidden");
        tbx.classList.remove("text-gray-400");
        tbx.classList.add("text-gray-100"); 
        // submitForm2();
    } else {
        x.classList.add("hidden");
        tbx.classList.remove("text-gray-100");
        tbx.classList.add("text-gray-400");
    }
}


    function closeAlert(event){
      let element = event.target;
      while(element.nodeName !== "BUTTON"){
        element = element.parentNode;
      }
      element.parentNode.parentNode.removeChild(element.parentNode);
    }



    var alert_del = document.querySelectorAll('.alert-del');
  alert_del.forEach((x) =>
    x.addEventListener('click', function () {
      x.parentElement.classList.add('hidden');
    })
  );    
  </script>

  













    </div>

    







<table id="datazz">

</table>





    <script>
function showAddInfo() {
  //var x = document.getElementById("addInfoDIV");
  var e = document.getElementById("addInfoDIV");
  var ech = document.getElementById("href_addInfo");
       if(e.style.display == 'block') {
          e.style.display = 'none';
          ech.innerHTML = `<span>прочая информация &#8659; </span>`;
}
       else {
          e.style.display = 'block';
          ech.innerHTML = `<span>скрыть &#8657; </span>`;
        }
}

      </script>




<div class="mypanel"></div>





<br/>
<div id="jgroup_info_div" class=" overflow-x-auto shadow-md sm:rounded-lg pl-12">

  <form action="{{url_for('newflow')}}" id="myform" method="GET">
  <select id="staff_ge" name="staff_g" style="width: 250px;" onchange='submitForm();' 
  class="bg-gray-50 px-3 border border-gray-300 text-gray-900 text-lg rounded-lg focus:ring-blue-500 focus:border-blue-500 inline-flex w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ">
  <option id="staff_g_1" class="ats10"  value="1" hidden>
    Судейская бригада № 1
  </option>        
  {% for data in grp_datazg %}
  <option id="optwce_f_{{data.group}}"  value="{{data.group}}">
    Судейская бригада № {{data.group}} 
  </option>
  {%endfor%}
  </select>
  <!-- <input class="hidden" type="submit" value="Submit" /> -->
  &nbsp;
  <select id="score_sel" name="score_sel" style="width: 250px;" onchange='submitForm();' 
  class="bg-gray-50 inline-flex px-3 border border-gray-300 text-gray-900 text-lg rounded-lg focus:ring-blue-500 focus:border-blue-500 w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 ">
  <option id="score_sel_def" class="ats10"  value="0" hidden>
    *Очки / Синклер / Прочее
  </option>        
  <option id="score_"  value="1">
    Очки (пустые)
  </option>  
  <option id="sinc_"  value="2">
    формула Синклера (Sinclair)
  </option>
  <option id="malone_"  value="3">
    формула Малоне (Malone)
  </option>
  <option id="uilks_"  value="4">
    формула Уилкса (Wilks) 
  </option>
  <option id="gloss_"  value="5">
    формула Глоссбреннера (Glossbrenner)
  </option>
  </select>
  </form>




  <br/>
  <table class="w-2/12 text-sm text-left text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-opacity-15 bg-gray-400 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <th scope="col" class="py-3 px-6">
          # 
        </th>
        <th scope="col" class="py-3 px-6">
           Фамили И.О.
        </th>
        <th scope="col" class="py-3 px-6">
          Бригада №
       </th>
       <th scope="col" class="py-3 px-6">
        Категория
     </th>
     <th scope="col" class="py-3 px-6">
      Должность
   </th>       
     <th scope="col" class="py-3 px-6">
      Город
   </th>      
      

      </tr>
    </thead>
    <tbody>
      {% for data in grp_dataz %}
      <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600">
        <td scope="row" class="py-2 px-2 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{loop.index}}
        </td>
        <td scope="row" class="py-2 px-0 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{data.name}}
        </td>    
        <td scope="row" class="py-2 px-2 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{data.group}}
        </td>         
        <td scope="row" class="py-2 px-2 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{data.cat}}
        </td>       
        <td scope="row" class="py-2 px-2 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{data.post_ru}}
        </td>        
        <td scope="row" class="py-2 px-2 text-base font-bold text-gray-900 whitespace-nowrap dark:text-white">
          {{data.city}}
        </td>                         
      </tr>
    </tbody>
    {% endfor %}
  </table>
</div>






    
    

{% include 'modals.html' %}




<script type="text/javascript" charset="utf-8">
    $(document).ready(function() {
        // Connect to the Socket.IO server.
        // The connection URL has the following format, relative to the current page:
        //     http[s]://<domain>:<port>[/<namespace>]
        var app_ip = "{{appHost}}";
        var app_port = "{{appPort}}";
        var clean_app_ip = app_ip.substring(5);
        var clean_app_ip = clean_app_ip.slice(0, -5);
        // var socket = io('ws://10.0.0.108:5000/',{
        var socket = io('ws://'+clean_app_ip+':'+app_port+'/',{
        transports: ["websocket", "polling"] // use WebSocket first, if available
        });

        // Event handler for new connections.
        // The callback function is invoked when a connection with the
        // server is established.
        socket.on('connect', function() {
            socket.emit('my_event', {data: 'I\'m connected!'});
        });

        // Event handler for server sent data.
        // The callback function is invoked whenever the server emits data
        // to the client. The data is then displayed in the "Received"
        // section of the page.
        socket.on('my_response', function(msg, cb) {
            $('#log').append('<br>' + $('<div/>').text('Received #' + msg.count + ': ' + msg.data).html());
            if (cb)
                cb();
        });

        // Interval function that tests message latency by sending a "ping"
        // message. The server then responds with a "pong" message and the
        // round trip time is measured.
        var ping_pong_times = [];
        var start_time;
        window.setInterval(function() {
            start_time = (new Date).getTime();
            $('#transport').text(socket.io.engine.transport.name);
            socket.emit('my_ping');
        }, 1000);

        // Handler for the "pong" message. When the pong is received, the
        // time from the ping is stored, and the average of the last 30
        // samples is average and displayed.
        socket.on('my_pong', function() {
            var latency = (new Date).getTime() - start_time;
            ping_pong_times.push(latency);
            ping_pong_times = ping_pong_times.slice(-30); // keep last 30 samples
            var sum = 0;
            for (var i = 0; i < ping_pong_times.length; i++)
                sum += ping_pong_times[i];
            $('#ping-pong').text(Math.round(10 * sum / ping_pong_times.length) / 10);
        });

        // Handlers for the different forms in the page.
        // These accept data from the user and send it to the server in a
        // variety of ways
        $('form#emit').submit(function(event) {
            socket.emit('my_event', {data: $('#emit_data').val()});
            return false;
        });
        $('form#broadcast').submit(function(event) {
            socket.emit('my_broadcast_event', {data: $('#broadcast_data').val()});
            return false;
        });
        $('form#join').submit(function(event) {
            socket.emit('join', {room: $('#join_room').val()});
            return false;
        });
        $('form#leave').submit(function(event) {
            socket.emit('leave', {room: $('#leave_room').val()});
            return false;
        });
        $('form#send_room').submit(function(event) {
            socket.emit('my_room_event', {room: $('#room_name').val(), data: $('#room_data').val()});
            return false;
        });
        $('form#close').submit(function(event) {
            socket.emit('close_room', {room: $('#close_room').val()});
            return false;
        });
        $('form#disconnect').submit(function(event) {
            socket.emit('disconnect_request');
            return false;
        });
    });
</script>


<script>
    function decrement(e) {
      const btn = e.target.parentNode.parentElement.querySelector(
        'button[data-action="decrement"]'
      );
      const target = btn.nextElementSibling;
      let value = Number(target.value);
      value--;
      target.value = value;
    }
  
    function increment(e) {
      const btn = e.target.parentNode.parentElement.querySelector(
        'button[data-action="decrement"]'
      );
      const target = btn.nextElementSibling;
      let value = Number(target.value);
      value++;
      target.value = value;
    }
  
    const decrementButtons = document.querySelectorAll(
      `button[data-action="decrement"]`
    );
  
    const incrementButtons = document.querySelectorAll(
      `button[data-action="increment"]`
    );
  
    decrementButtons.forEach(btn => {
      btn.addEventListener("click", decrement);
    });
  
    incrementButtons.forEach(btn => {
      btn.addEventListener("click", increment);
    });
  </script>


<div id="ws_info_div" class="hidden bg-gray-300 mx-5 px-5 my-5 py-5">
    <h1>Flask-SocketIO Test</h1>
    <p>
      Async mode is: <b>{{ async_mode }}</b><br>
      Current transport is: <b><span id="transport"></span></b><br>
      Average ping/pong latency: <b><span id="ping-pong"></span>ms</b>
    </p>
    <h2>Send:</h2>
    <form id="broadcast" method="POST" action='#'>
        <input type="text" name="broadcast_data" id="broadcast_data" placeholder="Message">
        <input type="submit" value="Broadcast">
    </form>

    <form id="disconnect" method="POST" action="#">
        <input type="submit" value="Disconnect">
    </form>
    <h2>Receive:</h2>
    <div id="log"></div>    
</div>








<script>
function pdfApp() {
  console.log('pdfApp func@');
}

</script>


    



  <script>

    



//////////////////////////////////
document.onkeydown = function (event) {
    event = event || window.event;
    // ESC key
    if (event.keyCode === 27) {

      let modal_edit2close = document.getElementById("edit-att-modal");
      let modal_add2close = document.getElementById("add-att-modal");

      
        modal_edit2close.style.display = "none";
        modal_add2close.style.display = "none";


        modal_del.style.display = "none";
        edit_data_att.style.display = "none";
        edit_window.style.display = "none";
        
        let xbtnFS = document.etElementById("idBtnFS");
        xbtnFS.style.display = "block";
        closeFullscreen();
        console.log(':ECS key DOWN');
    }
    if (event.keyCode === 32) {
        console.log(':SPACE key DOWN');
    }
    if (event.keyCode === 13) {
        console.log(':ENTER key DOWN');
    }    
    }

    </script>





<script>
  //onclick="restartApp()"
  // MAIN Shortcuts KEY (1 ONE KEY COMMAND) || OR 2 TWO
  // now ONE KEY command
document.onkeyup = function(e) {
  if (e.altKey && e.which == 77) {
    console.info("[ M ] was pressed MARSHAL (Flow) ->");
    document.getElementById("restart_flow_form").submit();
  } else if (e.altKey && e.which == 68) {
    console.info("[ D ] was pressed DOUBLE ->");
//    document.getElementById("restart_flow_form").submit();
  } else if (e.altKey && e.which == 84) {
    console.info("[ T ] was pressed TABLO ->");
  } else if (e.altKey && e.which == 67) {
    console.info("[ C ] was pressed CHRONOGRAPH ->");
  } else if (e.altKey && e.which == 83) {
    console.info("[ S ] was pressed SIGLAL ->");
  } else if (e.altKey && e.which == 74) {
    console.info("[ J ] was pressed JUDGE ->");
  } else if (e.altKey && e.which == 65) {
    console.info("[ A ] was pressed ADD NEW ATHLETE ->");
    
    document.getElementById("add-att-modal").style.display = "block";
        
  } else if (e.altKey && e.which == 69) {
    console.info("[ E ] was pressed ADD EDIT FLOW ->");
    let edit_att = document.getElementById("edit-att-modal");
    edit_att.style.display = "block";
  } else if (e.altKey && e.which == 79) {
    console.info("[ O ] was pressed OPTIONS/CFG/SETTINGS ->");
  } else if (e.altKey && e.which == 82) {
    console.info('[ R ] was pressed RELOAD DATA! 🔄 ->');
    //alert("[ R ] was pressed ADD NEW RELOAD DATA! 🔄 ->");
    restartApp();
  } else if (e.altKey && e.which == 85) {
    console.info("[ U ] was pressed OPEN MAIN MENU! ->");
  } else if (e.altKey && e.which == 70) {
    console.info("[ F ] was pressed FULL SCREEN! ->");
    openFullscreen();
  } else if (e.which == 187) {
    console.info("[ + ] was pressed +1 kG (plus 1 kG) ->");
  } else if (e.which == 189) {
    console.info("[ - ] was pressed -1 kG (minus 1 kG) ->");    
  } else if (e.which == 49) {
    console.info("[ 1 ] was pressed +1 kG (plus 1 kG) ->");
  } else if (e.which == 50) {
    console.info("[ 2 ] was pressed +2 kG (plus 2 kG) ->");
  } else if (e.which == 51) {
    console.info("[ 3 ] was pressed +3 kG (plus 3 kG) ->");
  } else if (e.which == 52) {
    console.info("[ 4 ] was pressed +4 kG (plus 4 kG) ->");
  } else if (e.which == 53) {
    console.info("[ 5 ] was pressed +5 kG (plus 5 kG) ->");
  } else if (e.which == 54) {
    console.info("[ 6 ] was pressed +6 kG (plus 6 kG) ->");
  } else if (e.which == 55) {
    console.info("[ 7 ] was pressed +7 kG (plus 7 kG) ->");
  } else if (e.which == 56) {
    console.info("[ 8 ] was pressed +8 kG (plus 8 kG) ->");
  } else if (e.which == 57) {
    console.info("[ 9 ] was pressed +9 kG (plus 9 kG) ->");
  }

};







function close_lishok() {
  console.info('Select change...');
  // document.getElementById("restart_flow_form").submit();
  document.getElementById("wr_info_div").style.visibility = 'hidden';
}


function setjGroupSel(dataz) {
  // document.getElementById("jgroup_select_form").submit();
  // document.forms["jgroupfrm"].submit();
  //   var form = document.querySelector('jgroupfrm');
  // HTMLFormElement.prototype.submit.call(form);
  // var formObject = document.forms['jgroup_select_form'];
  // formObject.submit();  
  console.warn('___' + dataz);

  // this.form.submit()
}


function submitForm(){ 
  document.getElementById('myform').submit(); 
} 
function submitForm2(){ 
  document.getElementById('myform2').submit(); 
} 



function restartApp() {
  console.info('[ R ] was pressed RELOAD DATA! 🔄 ->');
  document.getElementById("restart_flow_form").submit();
} 

window.setTimeout(function() {
    $("#app-succsess01").fadeTo(500, 0).slideUp(400, function(){
      console.info('app-succsess01 is CLOSE');
        $(this).remove(); 
    });
}, 2345);

</script>
  



</body>

</html>