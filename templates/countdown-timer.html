<html>
<head>
<title>v7pro: Судья Хронометрист</title>
<link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/production_v7.css') }}">
<script src="{{url_for('static', filename = 'js/flowbite.js')}}"></script>
<script src="{{url_for('static', filename = 'js/socket.io.min.js')}}"></script>
<script src="{{url_for('static', filename = 'js/jquery-3.6.0.min.js')}}"></script>
    
<!-- <script src="{{url_for('static', filename = 'js/ovmenu.js')}}"></script> -->


<!-- <link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/daisyui2.22.0.css') }}"> -->
<link rel="stylesheet" media="screen" href="{{ url_for('static', filename='css/chrono.css') }}">
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon_io/v7timer/favicon.ico') }}">
<style>
    .blink {
        animation: blinker 2.1s linear infinite;
        font-family: sans-serif;
    }
    @keyframes blinker {
        50% {
            opacity: 0.4;
        }
    }



    .parent {
display: grid;
grid-template-columns: 4fr repeat(5, 1fr) 4fr;
grid-template-rows: repeat(7, 1fr);
grid-column-gap: 5px;
grid-row-gap: 3px;
}


body{ 
	font: normal 13px/20px Arial, Helvetica, sans-serif; word-wrap:break-word;
	/* background: #fff; */
}


.containerz{
  padding: 0px;
  margin: 0px;
}

.countdown-label {
  font: thin 15px Arial, sans-serif;
	color: #b3b3b3;
	text-align: center;
	text-transform: uppercase;
	display: inline-block;
  letter-spacing: 2px;
  margin-top: 9px
}
#countdown{
box-shadow: 0 1px 2px 0 rgba(1, 1, 1, 0.4);
width: 680px;
	height: 108px;
	text-align: center;
background: #f1f1f1;

	border-radius: 5px;

	margin: auto;

}



#countdown #tiles{
  color: #fff;
	position: relative;
	z-index: 1;
text-shadow: 5px 5px 12px rgb(86, 119, 179);
	display: inline-block;
  font-family: Arial, sans-serif;
	text-align: center;
  
  padding: 20px;
  border-radius: 5px 5px 0 0;
  font-size: 208px;
  font-weight: bold;
  display: block;

  color: #0e0a73;
/* background: #232323; */
text-shadow: 0 0 5px #FFF, 0 0 10px #FFF, 0 0 9px #FFF, 0 0 12px #111111, 0 0 20px #121212, 0 0 30px #171817, 0 0 45px #1a1c1a, 0 0 55px #20211f;
    
}

.color-full {
  background: #53bb74;
}
.color-half {
  background: #ebc85d;
}
.color-empty {
  background: #e5554e;
}

#countdown #tiles > span{
	width: 70px;
	max-width: 70px;

	padding: 28px 0;
	position: relative;
}





#countdown .labels{
	width: 100%;
	height: 25px;
	text-align: center;
	position: absolute;
	bottom: 18px;
}

#countdown .labels li{
	width: 102px;
	font: bold 15px 'Droid Sans', Arial, sans-serif;
	color: #f47321;
	text-shadow: 1px 1px 0px #000;
	text-align: center;
	text-transform: uppercase;
	display: inline-block;
}


#countdown {
  background-color: #989b94;
  -webkit-box-shadow:0px 0px 15px 8px #e4e4e4 inset;
  -moz-box-shadow:0px 0px 15px 8px #dadada inset;
  box-shadow:0px 0px 15px 8px #cdcecd inset;
  border-radius:5px;
  -moz-border-radius:5px;
  -webkit-border-radius:  5px;
}



/* NEW wlwments for XXX */
.f_timer_time {
  opacity: 1;
  font-size:smaller;
  font-size: 54px;
  color: rgb(20, 43, 125);
  margin-top: -8px;
  margin-right: 24px;
  text-shadow: 3px 1px 1px rgb(176, 110, 105);
  font-family: Impact, Charcoal, sans-serif;
  letter-spacing: 1px;
  word-spacing: 1px;
  text-decoration: none;
  font-style: normal;
  font-variant: normal;
  text-transform: uppercase;
  z-index: 143; 
}






#the_flow_timer {
  position: absolute;
  z-index: 9;
  background-color: #f1f1f1;
  border: 1px solid #8c0606;
  text-align: center;
}







/* yes / no radio  */
.toggler-wrapper.style-199 input[type="checkbox"]:checked+.toggler-slider {
	
  background-color: white;
	border-color: #e61f1f;
}

.toggler-wrapper.style-199 input[type="checkbox"]:checked+.toggler-slider:after {
	content: '02:00';
  left: 118%;
  color:#e61f1f;
}

.toggler-wrapper.style-199 input[type="checkbox"]:checked+.toggler-slider .toggler-knob {
	left: calc(100% - 39px - 7px);
	background-color: #e61f1f;
}

.toggler-wrapper.style-199 .toggler-slider {
	background-color: transparent;
	border-radius: 0;
	border: 2px solid #21dd1d;
}

.toggler-wrapper.style-199 .toggler-slider:after {
	content: '01:00';
	position: absolute;
	top: 50%;
  color:#36c81f ;
	/* right: -93%; */
  left: 118%;
  -webkit-transform: translateY(-50%);
	transform: translateY(-50%);
	font-size: 234%;
	text-transform: uppercase;
	font-weight: 700;
	opacity: 0.9;
}

.toggler-wrapper.style-199 .toggler-knob {
	width: calc(25px - 6px);
	height: calc(25px - 6px);
	left: 3px;
	top: 3px;
  width: 48%;
	height: 92%;
	background-color: #23c717;
}



.toggler-wrapper {
	display: block;
	width: 95px;
	height: 79px;
	cursor: pointer;
	position: relative;
}

.toggler-wrapper input[type="checkbox"] {
	display: none;
}

.toggler-wrapper input[type="checkbox"]:checked+.toggler-slider {
	background-color: #44cc66;
}

.toggler-wrapper .toggler-slider {
	background-color: #ccc;
	position: absolute;
	border-radius: 100px;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	-webkit-transition: all 300ms ease;
	transition: all 300ms ease;
}


.toggler-wrapper .toggler-knob {
	position: absolute;
	-webkit-transition: all 300ms ease;
	transition: all 300ms ease;
}

.zalaza {
  /* -webkit-box-shadow: inset -1px 3px 8px 5px #7b7b7b, 2px 5px 16px 0px #444444, 5px 5px 15px 5px rgba(0,0,0,0); 
  box-shadow: inset -1px 3px 8px 5px #767676, 2px 5px 16px 0px #414141, 5px 5px 15px 5px rgba(0,0,0,0); */
  /* box-shadow: 0px 10px 15px -3px rgba(202, 202, 202, 0.1); */
  /* -webkit-box-shadow: 8px 8px 24px 0px rgba(66, 68, 90, 1);
  -moz-box-shadow: 8px 8px 24px 0px rgba(66, 68, 90, 1);
  box-shadow: 8px 8px 24px 0px rgba(66, 68, 90, 1);   */
  filter: drop-shadow(2px 4px 5px rgb(64, 61, 83));

/* 
	border: solid #BDBDBD 1px; 
	box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.3)  ; 
	-webkit-box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.3)  ; 
	-moz-box-shadow: 5px 5px 20px rgba(0, 0, 0, 0.3)  ;  */
}




body {
  -webkit-user-select: none; /* Safari */
  -ms-user-select: none; /* IE 10 and IE 11 */
  user-select: none; /* Standard syntax */
  -webkit-touch-callout: none;
  -khtml-user-select: none;
  -moz-user-select: none;  

  width: 100vw;
  height: 100vh;
  /* background-color: #fff; */
  overflow: hidden;
  display: flex;
  justify-content: center;
  text-align: center;
  color: #00ff44;

}



.f7_main_sc_bgblack {
  /* background-color: #000; */
  background-color: rgb(17 24 39);
  /* color: #000; */


}



.f_timer_play_zxp_r {
  position: absolute;
  float: right;
  z-index: 1890;
}



















button {
  color: #000;
  font-weight: bolder;
  font-size:x-large;
  padding: 7px 15px;
  border: none;
  outline: none;
  border-radius: 4px;

}

button:hover {
  cursor: pointer;
  background-color: #128012;
}
/* common styles end */

/* form */
.form {
  margin: 30px 0px 20px 0px;
}

.time-input {
/*   display:none; */
  color: #d1d1d1;
  font-weight: bolder;
  font-size:xx-large;
  padding: 10px 7px;
  border: none;
  outline: none;
  border-radius: 4px;
  background-color: #2e2e2efd;
}
.time-input:hover {
  color: #000000;
  font-weight: bolder;
  font-size:xx-large;
  padding: 10px 7px;
  border: none;
  outline: none;
  border-radius: 4px;
  background-color: #ffffff;
}

.tohide {
    display:none;
}

select[name='format'] {
  padding: 10px;
  border: none;
  outline: none;
  border-radius: 4px;
  margin: 0px 10px;
  background-color: #00ff44;
}

.set-btn {
  margin: 12px;
  padding: 15px 15px 10px 15px; 
  border: #fefefe solid 2px;
  background-color: #01c936;
}
.set-btn:hover {
  border: #e3e2e2 dotted 3px;
  background-color: #039c36;
  color: #f1f1f1;
  font-weight: bolder;  
}
/* form styles end */

/* countdown */
.countdown {
  /* font-size: 6.5rem; */
  font-size: 0.5rem;
  margin-top: 20px;
}
/* countdown styles end */

/* buttons */
.stop-btn {
  font-size: xx-large;
  margin-top: 10px;
  padding: 20px 20px 20px 20px;
  background-color: #19b90b;
}
.stop-btn:hover {
  font-size: xx-large;
  padding: 10px 20px;  
  color: #cdcdcd;
  font-weight: bolder;  
  padding: 23px 23px 23px 23px;
  background-color: #08620f;
}

.reset-btn {
  font-size: xx-large;
  margin-top: 10px;
  font-weight:normal;
  padding: 20px 20px 20px 20px;
  background-color: rgb(230, 88, 0);
}
.reset-btn:hover {
  font-size: xx-large;
  margin-top: 10px;
  color: #cdcdcd;
  font-weight: bolder;
  padding: 23px 23px 23px 23px;
  background-color: rgb(226, 60, 31);
}
/* buttons styles end */
</style>

</head>

{% block body %}
   
 <body onload="reseTimer();">




    <!-- Sudarshana Chkra-->
    <span class="f7_main_sc_bgblack">
      <a href="/quit">
        <div id="pica" class="pica">
            <img src="static/img/v7-tilaka-white.png" alt="f7v-logo"
                class="shadow rounded-full mt-4 ml-4 h-9 align-middle border-none" />
        </div>
      </a>
    </span>
    
    

    

   
<section class="bg-gray-900 dark:bg-gray-900 h-full w-full">
    <div class="py-2 px-4 mx-auto max-w-screen-xl h-fulllg:py-6 lg:px-6">

      <!-- <div class="f_timer_play_zxp px-1.5">
        <p class="text-gray-400">минуты.</p>
        <button alt="play" id="play_btn_7" onclick="min_incrementoz()" type="submit" class="zalaza focus:outline-none text-black bg-transparent hover:bg-gray-400 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-green-600 dark:focus:ring-green-400">
            <svg class="zalaza w-16 h-16" fill="none" stroke="#6c6c6c" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            
        </button>
        <button alt="play" id="play_btn_8" onclick="min_decrementoz()" type="submit" class="zalaza focus:outline-none text-black bg-transparent hover:bg-gray-400 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-green-600 dark:focus:ring-green-400">

                <svg class="zalaza w-16 h-16" fill="none" stroke="#6c6c6c" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
        </button>      
        </div> -->


        <!-- <div class="f_timer_play_zxp_r px-1.5">
          <p class="text-gray-400">секунды</p>
          <button alt="play" id="play_btn_27" onclick="sec_incrementoz()" type="submit" class="zalaza focus:outline-none text-black bg-transparent hover:bg-gray-400 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-green-600 dark:focus:ring-green-400">
              <svg class="zalaza w-16 h-16" fill="none" stroke="#6c6c6c" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              
          </button>
          <button alt="play" id="play_btn_28" onclick="sec_decrementoz()" type="submit" class="zalaza focus:outline-none text-black bg-transparent hover:bg-gray-400 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-green-600 dark:focus:ring-green-400">
  
                  <svg class="zalaza w-16 h-16" fill="none" stroke="#6c6c6c" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
          </button>      
          </div> -->
          
          
        <div class="mx-auto max-w-screen-sm text-center">
            <p id="pageInfo" class="blink text-center text-lg text-white">
            <h1 class="mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-white dark:text-primary-500">

                <svg class="h-9 w-9" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>

            </h1>




  <div class="div110">



      
      
    <input type="hidden" id="set-time" onload="fetchText()" value=""/>
    
    <div id="countdown">
      
      <div id='tiles' class="color-full"></div>
      <div id ="left" class="countdown-label">ОСТАВШЕЕСЯ ВРЕМЯ</div>
    </div>




    
      <div class="containerz py-0">
        
        <div id="otm_div" class="f_timer_13m px-2.5 py-5">
          <!-- Toggle Button Style 19 -->
          <label class="toggler-wrapper style-199">
            <input onclick="changeTimer_time()"  type="checkbox" name="one_two_min" value="1" id="one_two_min">
            <div class="toggler-slider px-0 py-0">
              <div class="toggler-knob"></div>
            </div>
          </label>
          <!-- End Toggle Button Style 19 -->
        </div>          
        <!-- form -->
        <form class="form px-0 py-0">
          <!-- countdown time input field -->
          <span id="s-label" class="inline-flex items-center px-3 text-2xl text-gray-900 bg-gray-200 rounded-l-md border border-r-0 border-gray-300 dark:bg-gray-600 dark:text-gray-400 dark:border-gray-600">
            секунд: 
          </span>
          <input id="hm_seconds" type="number" min="1" max="120" value="60" class="py-2 time-input" placeholder="60"
          oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" />
          <!-- options -->
          <select name="format" class="tohide">
            <option hidden value="hours">Hours</option>
            <option hidden value="minutes">Minutes</option>
            <option selected value="seconds">Seconds</option>
          </select>
          <!-- submit button or set button -->

          <button type="submit" id="start_v7timer" onclick="start_wrapper()" class="set-btn  py-0 px-0">
            <svg class="h-12 w-12 inline py-0 px-0"  fill="none" stroke="#fff" stroke-width="2.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"></path>
            </svg>
            
            Время СТАРТ!</button>
        </form>
        
        <!-- countdown text -->
        <p id="main_countdown" class="countdown">01 : 00</p>
    
        <!-- buttons -->
        <div class="buttons">
          <button id="stop_v7timer" class="stop-btn hidden" disabled>СТОП</button>
          <button id="reset_v7timer" class="reset-btn" onclick="restartApp()">СБРОС</button>
        </div>
      </div>
   
    

  </div >
  <div>
  <div class="div11">&nbsp;</div>
  <!-- <div class="div12">&nbsp;</div>
  <div class="div13">&nbsp;</div> -->


  <div class="hidden inline-flex ">
    <div class="f_timer_time px-2.5"></div>
    <div class="f_timer_play px-1.5">
          
    <button alt="play" id="play_btn" onclick="timer_play()" type="submit" class="zalaza focus:outline-none text-black bg-transparent hover:bg-green-600 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-green-600 dark:focus:ring-green-400">
      <svg class="zalaza w-64 h-64" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
    </button>
    </div>
    
    <div class="f_timer_pause px-1.5">
      <button alt="pause" id="pause_btn" onclick="timer_pause()" type="submit" class="hidden zalaza focus:outline-none text-white bg-transparent hover:bg-yellow-500 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-yellow-500 dark:focus:ring-yellow-400">
        <svg class="zalaza w-64 h-64" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      </button>
  
    </div>
    <div class="f_timer_stop px-1.5 hidden">
      <button alt="stop" id="stop_btm" onclick="restartApp()" type="submit" class="focus:outline-none text-white bg-transparent hover:bg-gray-900 focus:ring-4 focus:ring-green-300 hover:border-white border-transparent border-2 focus:border-white text-gray-200 bg-transparent font-medium rounded-lg text-sm px-2 py-2 mb-2 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900">
        <svg class="w-64 h-64" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"></path></svg>
      </button>    
      
    </div>

    </div>



    
    <button disabled data-tooltip="Решение судьи / Вызвать судью  № 1" id="invite_g1" onclick="invite_j1();" type="button" class=" hover:border-white border-transparent border-2 focus:border-gray-100 text-gray-400 font-medium rounded-lg px-2 py-2 mb-1 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900 text-3xl">
      <!-- <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> -->
      ❶
    </button>
    <span class="text-white">⁝</span>
    <button disabled data-tooltip="Решение судьи / Вызвать судью  № 2" id="invite_g2" onclick="invite_j2();" type="button" class=" hover:border-white border-transparent border-2 focus:border-gray-100 text-gray-400 bg-transparent font-medium rounded-lg px-2 py-2 mb-1 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900 text-3xl">
      <!-- <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> -->
      ❷
    </button>
    <span class="text-white">⁝</span>
    <button disabled data-tooltip="Решение судьи / Вызвать судью  № 3" id="invite_g3" onclick="invite_j3();" type="button" class=" hover:border-white border-transparent border-2 focus:border-gray-100 text-gray-400 bg-transparent font-medium rounded-lg px-2 py-2 mb-1 dark:bg-transparent dark:hover:bg-purple-700 dark:focus:ring-purple-900 text-3xl">
      <!-- <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg> -->
      ❸
    </button>        




  <div id="btn_panelss" class="hidden border-2 px-0.5 mx-9 bg-gray-400 inline-flex">
    <div class="w-80 mx-auto mt-1 p-7">
        <button class="bg-green-700 border-dotted border-2 border-red-500 w-full h-48 text-white rounded-md px-2 py-2 text-base font-medium hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-red-300" 
                id="jx1" onclick="j1Vote(11)">
                <svg class="w-64 h-64" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
    </div>

    <div class="w-80 mx-auto mt-1 p-7">
        <button class="bg-yellow-500 border-dotted border-2 border-white w-full h-48 text-white rounded-md px-2 py-2 text-base font-medium hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-red-300" 
                id="jx0" onclick="j1Vote(10)">
                <svg class="w-20 h-20" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        </button>
    </div>
</div>
</div>


<!-- <div>.</div> -->
           



        </div>
    </div>
</section>



<script type="text/javascript" charset="utf-8">
  $(document).ready(function() {
      // Connect to the Socket.IO server.
      // The connection URL has the following format, relative to the current page:
      //     http[s]://<domain>:<port>[/<namespace>]
      var app_ip = "{{appHost}}";
      var app_port = "{{appPort}}";
      var clean_app_ip = app_ip.substring(5);
      var clean_app_ip = clean_app_ip.slice(0, -5);
      // var socket = io('ws://10.0.0.108:5000/',{
      var socket = io('ws://'+clean_app_ip+':'+app_port+'/',{
      transports: ["websocket", "polling"] // use WebSocket first, if available
      // transports: [ "polling"] // use WebSocket first, if available
      });

      // Event handler for new connections.
      // The callback function is invoked when a connection with the
      // server is established.
      socket.on('connect', function() {
          socket.emit('my_event', {data: 'I\'m connected!'});
      });

      // Event handler for server sent data.
      // The callback function is invoked whenever the server emits data
      // to the client. The data is then displayed in the "Received"
      // section of the page.
      
      
      socket.on('my_response', function(msg, cb) {

        if (msg.data==0) {
            // $('#invite_g1').css("background-color","white");                
            socket.emit('my_broadcast_event', {data: 0});
            $('#invite_g1').css("background-color","red");                
            $('#invite_g2').css("background-color","red");               
            $('#invite_g3').css("background-color","red");                 
            window.location.reload();
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());          
            // pYes();
        }
        if (msg.data==11) {
            $('#invite_g1').css("background-color","white");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==10) {
            $('#invite_g1').css("background-color","red");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==19) {
            $('#invite_g1').css("background-color","transparent");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }        

        
        if (msg.data==21) {
            $('#invite_g2').css("background-color","white");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==20) {
            $('#invite_g2').css("background-color","red");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==29) {
            $('#invite_g2').css("background-color","transparent");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }

        if (msg.data==31) {
            $('#invite_g3').css("background-color","white");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==77) {
          // reloadPage();
          // document.getElementById('invite_g1').click();
          // j1Vote(17);
          // j1Vote(0);
          // invite_j1()

          //reloadPage
          console.warn('REBOOT');
          $('#tzt').css("background-color","white");                
          socket.emit('my_broadcast_event', {data: 77});
          // socket.emit('my_broadcast_event', {data: 17});
          // window.setInterval(function() {
          //   // window.location.reload();
          //     }, 1000);
            $('#log').append('<br>' + $('<div/>').text('is REBOOT!#' + msg.count + ': ' + msg.data).html());
        }
        // if (msg.data==8) {
        //     socket.emit('my_broadcast_event', {data: 8});
        //     window.setInterval(function() {
        //       }, 3000);
        //     $('#log').append('<br>' + $('<div/>').text('is REBOOT!#' + msg.count + ': ' + msg.data).html());
        // }
        if (msg.data==30) {
            $('#invite_g3').css("background-color","red");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }
        if (msg.data==39) {
            $('#invite_g3').css("background-color","transparent");                
            $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
        }        


        if (msg.data==17) {
          // window.setInterval(function() {
          //     window.location.reload();
              
          //     }, 10000);
        }        
        
        if (msg.data==27) {
          // window.location.reload();
          //   window.setInterval(function() {
          //     }, 10000);
        }        
        if (msg.data==37) {
          // window.location.reload();
          // window.setInterval(function() {
          //     }, 300000);
        }                

        
        
          $('#log').append('<br>' + $('<div/>').text('Received #' + msg.count + ': ' + msg.data).html());
          if (cb)
              cb();
      });

      // Interval function that tests message latency by sending a "ping"
      // message. The server then responds with a "pong" message and the
      // round trip time is measured.
      var ping_pong_times = [];
      var start_time;
      window.setInterval(function() {
          start_time = (new Date).getTime();
          $('#transport').text(socket.io.engine.transport.name);
          socket.emit('my_ping');
      }, 1000);

      // Handler for the "pong" message. When the pong is received, the
      // time from the ping is stored, and the average of the last 30
      // samples is average and displayed.
      socket.on('my_pong', function() {
          var latency = (new Date).getTime() - start_time;
          ping_pong_times.push(latency);
          ping_pong_times = ping_pong_times.slice(-30); // keep last 30 samples
          var sum = 0;
          for (var i = 0; i < ping_pong_times.length; i++)
              sum += ping_pong_times[i];
          $('#ping-pong').text(Math.round(10 * sum / ping_pong_times.length) / 10);
      });

      // Handlers for the different forms in the page.
      // These accept data from the user and send it to the server in a
      // variety of ways
      $('form#emit').submit(function(event) {
          socket.emit('my_event', {data: $('#emit_data').val()});
          return false;
      });
      $('form#broadcast').submit(function(event) {
          socket.emit('my_broadcast_event', {data: $('#broadcast_data').val()});
          return false;
      });
      $('form#join').submit(function(event) {
          socket.emit('join', {room: $('#join_room').val()});
          return false;
      });
      $('form#leave').submit(function(event) {
          socket.emit('leave', {room: $('#leave_room').val()});
          return false;
      });
      $('form#send_room').submit(function(event) {
          socket.emit('my_room_event', {room: $('#room_name').val(), data: $('#room_data').val()});
          return false;
      });
      $('form#close').submit(function(event) {
          socket.emit('close_room', {room: $('#close_room').val()});
          return false;
      });
      $('form#disconnect').submit(function(event) {
          socket.emit('disconnect_request');
          return false;
      });
  });
</script>




<script>





function chkVotez() {
  
  j1is = document.getElementById("invite_g1").style.backgroundColor;
  j2is = document.getElementById("invite_g2").style.backgroundColor;
  j3is = document.getElementById("invite_g3").style.backgroundColor;
  // console.log(j1is,j2is,j3is);


//////////
////////// if 2 judge vote NO & 1 judge vote YES
//////////    
if((j2is=='red' && j3is=='red' && j1is=='white') || (j1is=='red' && j3is=='red' && j2is=='white') || (j1is=='red' && j2is=='red' && j3is=='white')) 
  {
      console.log('votes NO, 2 j say NOT!');
      if((j1is=='red' && j3is=='red' && j2is=='white') || (j2is=='red' && j3is=='red' && j1is=='white') 
          || (j1is=='red' && j2is=='red' && j3is=='white')) {

          console.log('NO - SEND');
          jSET_no();
          document.getElementById("invite_g1").classList.add("blinkNow");
          document.getElementById("invite_g2").classList.add("blinkNow");
          document.getElementById("invite_g3").classList.add("blinkNow");


    }
  }    
//////////
////////// if 2 judge vote YES & 1 judge vote NO
//////////    
if((j2is=='white' && j3is=='white' && j1is=='red') || (j1is=='white' && j3is=='white' && j2is=='red') || (j1is=='white' && j2is=='white' && j3is=='red')) {
      console.log('votes YES, 2 j say YES!');
      if((j1is=='white' && j3is=='white' && j2is=='red') || (j2is=='white' && j3is=='white' && j1is=='red') 
          || (j1is=='white' && j2is=='white' && j3is=='red')) {

          console.log('YES - SEND');
          jSET_yes();
          document.getElementById("invite_g1").classList.add("blinkNow");
          document.getElementById("invite_g2").classList.add("blinkNow");          
          document.getElementById("invite_g3").classList.add("blinkNow");               

          }
        }


//////////
////////// if 3 judge vote YES
//////////    
if((j2is=='white' && j3is=='white' && j1is=='white')) {
      console.log('votes YES, 3j say YES!');
      if((j1is=='white' && j3is=='white' && j2is=='white')) {
        console.log('YES - SEND');
          jSET_yes();
          document.getElementById("invite_g1").classList.add("blinkNow");
          document.getElementById("invite_g2").classList.add("blinkNow");          
          document.getElementById("invite_g3").classList.add("blinkNow");               
      }
    }



//////////
////////// if 3 judge vote NO
//////////    
if((j2is=='red' && j3is=='red' && j1is=='red')) {
      console.log('votes YES, 3j say NO!');
      if((j1is=='red' && j3is=='red' && j2is=='red')) {
        console.log('NO - SEND');
        jSET_no();
        document.getElementById("invite_g1").classList.add("blinkNow");
        document.getElementById("invite_g2").classList.add("blinkNow");          
        document.getElementById("invite_g3").classList.add("blinkNow");          
}
}










}    





async function getSecondsFRMysql() {
    
    // const objectz = { status: 999, isid: 0 };
    //   const responsez = await fetch('/timer-write', {
    //     method: 'GET',
    //     body: JSON.stringify(objectz)
        
    //   });
    const objectzxc = { status: 999, isid: 0 };
    var sec_zid = document.getElementById('sec_z').innerText;
    var min_zid = document.getElementById('min_z').innerText;
    console.warn('sec_zid !!!' + sec_zid + min_zid);

    const responsez = await fetch('/timer-write/'+min_zid+sec_zid, {
        method: 'GET',
        // body: JSON.stringify(objectzxc)
        

      });  
    
    let status = 0; // 1=start;2=pause;0=stop
      const object = { status: 999, isid: 0 };
      const response = await fetch('/timer-get-sec-on-tablo', {
        method: 'GET',
        // body: JSON.stringify(object)
        
      });
      
      const responseText = await response.text();
      var obj_scnd = JSON.parse(responseText);
      //sec2tablo
      //console.log(obj_scnd.cc); // logs 'OK'
      //document.getElementById('countdownTablo').innerText = obj_scnd.cc;
      //document.getElementById('countdownTablo').innerText = obj_scnd.sec2tablo;
      
    }  




// let counter = 120
var counter = 69

    

function timerTogler(mode) {

    // var refreshInterva = setInterval(() => {
    //         if(counter>0){
    //             counter--
    //         }
    //         if(counter<=0){
    //             document.getElementById('countdownTablo').style.setProperty('--value', 0);
    //             console.log('000000');
    //             window.location.reload();
    //         }        
    //     document.getElementById('countdownTablo').style.setProperty('--value', counter)
    // }, 1000)
    var refreshInterva = setInterval(() => {
            if(counter>0){
                counter--
            }
            if(counter<=0){
                document.getElementById('countdownTablo').style.setProperty('--value', 0);
                console.log('000000');
                window.location.reload();
            }        
        document.getElementById('countdownTablo').style.setProperty('--value', counter)
    }, 1000)

    let tmode = document.querySelector('input[name="sex"]:checked').value;
    if (tmode==60) {
        counter=60;
    }
    if (tmode==120) {
        counter=120;
    }

if(mode=='stop') {

    var refreshInterva = setInterval(() => {
            if(counter>0){
                counter--
            }
            if(counter<=0){
                document.getElementById('countdownTablo').style.setProperty('--value', 0);
                console.log('000000');
                window.location.reload();
            }        
        document.getElementById('countdownTablo').style.setProperty('--value', counter)
    }, 1000)
        
    refreshInterva = null;
    clearInterval(refreshInterva);
  // release our intervalID from the variable
    // console.log(document.getElementById('countdownTablo').style.value
    // value);
    console.log(document.getElementById('countdownTablo').style.setProperty('--value', 0));
    // var seci = declaration.getPropertyPriority("--value");
    // document.getElementById('countdownTablo').style.setProperty('--value', counter);
    // clearInterval(refreshInterva);
    console.log('STOP');

}

if(mode=='start') {


    console.log('START');

}

}
    


    </script>




  
{% endblock %}








<script>
  // TIMER!!!


// getCountdown();

// setInterval(function () { getCountdown(); }, 1000);



function pad(n) {
	return (n < 10 ? '0' : '') + n;
}


  function timer_play(param1) {
    //stop_v7timer
    v7timer_start();
    console.warn('[ PLAY ] v7Timer BTN was clickED!!!');
    let audio = new Audio("../static/snd/play_btn.mp3").play();
    audio.muted = true;
    audio.currentTime = 0
    audio.muted = false;
    
    var bplay = document.getElementById("play_btn");
    var bpause = document.getElementById("pause_btn");
    bpause.classList.remove("hidden");
    bplay.classList.add("hidden");
      bplay.addEventListener("click", () => {
        //audio.play();
        console.warn('audio.play_btn.play();');
    });    
  }


  function timer_pause(param1) {
    v7timer_pause();
    console.warn('[ PAUSE ] v7Timer BTN was clickED!!!');
    let audio = new Audio("../static/snd/pause_btn.mp3").play();
    audio.muted = true;
    audio.currentTime = 0
    audio.muted = false;
    var bplay = document.getElementById("play_btn");
    var bpause = document.getElementById("pause_btn");
    bplay.classList.remove("hidden");
    bpause.classList.add("hidden");    
      bplay.addEventListener("click", () => {
        //audio.play();
        console.warn('audio.pause_btn.play();');
    });        
  }  
  
  function changeTimer_time(param1) {
    v7timer_stop();
    var stop_btn = document.getElementById("stop_v7timer");
    var main_secz = document.getElementById("main_countdown");
    // stop_btn.classList.remove("hidden");
    stop_btn.classList.add("hidden");

    


    var miner_min = document.getElementById("set-time").value;
    console.warn('[ 60/120 radio SECOND ] v7Timer BTN was clickED!!!');
    let audio = new Audio("../static/snd/1or2min_radio_btn.mp3").play();
    audio.muted = true;
    audio.currentTime = 0
    audio.muted = false;
    // var bplay = document.getElementById("one_two_min");
    var bplay = document.getElementById("one_two_min");

    if (bplay.checked == true ) 
    { 
      document.getElementById("tiles").innerHTML = "<span id='min_z'>02:</span><span id='sec_z'>00</span>";
      document.getElementById("hm_seconds").value=120;
      main_secz.innerHTML = "02:00";
   }
    else { bplay.checked == false;
      main_secz.innerHTML = "01:00";
     document.getElementById("tiles").innerHTML = "<span id='min_z'>01:</span><span id='sec_z'>00</span>";
    document.getElementById("hm_seconds").value=60;
  }    

    if (bplay.checked == true ) {
        const object = { status: 2, isid: 1 };
        const response = fetch('/timer-set/2', {
          method: 'GET',
          // body: JSON.stringify(object)
        });
        //const responseText = response.text();
        //console.log(responseText); // logs 'OK'
    }
    else { 
        const object = { status: 1, isid: 1 };
        const response = fetch('/timer-set/1', {
          method: 'GET',
          // body: JSON.stringify(object)
        });
        //const responseText = response.text();
        //console.log(responseText); // logs 'OK'
    }


    // if (bplay.checked == true ) { document.getElementById("tiles").innerHTML = "<span id='sec_z'>120</span>"; }
    // else { bplay.checked == false; document.getElementById("tiles").innerHTML = "<span id='sec_z'>60</span>"; }        
    console.warn('audio.1or2min_radio_btn.play();');
    console.warn('@@@' + bplay.checked);

    //   bplay.addEventListener("click", () => {
    //     // if (miner_min==1) { miner_min.value = 2; document.getElementById("tiles").innerHTML = "<span id='min_z'>02:</span><span id='sec_z'>00</span>"; }
    //     // if (miner_min==2) { miner_min.value = 1; document.getElementById("tiles").innerHTML = "<span id='min_z'>01:</span><span id='sec_z'>00</span>"; }
    //     // console.warn('audio.1or2min_radio_btn.play();');
    // });        
  }  
  
  
  // DEFAULT IS 60 SEC
  // DEFAULT IS 60 SEC
  // DEFAULT IS 60 SEC
  // DEFAULT IS 60 SEC
  // DEFAULT IS 60 SEC
  document.getElementById("tiles").innerHTML = "<span id='min_z'>01:</span><span id='sec_z'>00</span>";
</script>





<script>
let tID = '';
let idx0 = '';

async function v7timer_start() {
///////////////////////////////////////////////////////////
//var minutes = document.getElementById("set-time").value;
    var minutes = document.getElementById('sec_z').innerText;
    var min_zid = document.getElementById('min_z').innerText;

var bplay = document.getElementById("one_two_min");
if (bplay.checked == true ) { 
  document.getElementById("tiles").innerHTML = "<span id='min_z'>02:</span><span id='sec_z'>00</span>";
  minutes=120;   

  //document.getElementById("sec_z").innerHTML = document.getElementById("set-time").val;

  
 }
else { 
  bplay.checked == false; 
  // document.getElementById("tiles").innerHTML = "<span id='min_z'>01:</span><span id='sec_z'>00</span>"; 
  // document.getElementById("tiles").innerHTML = "<span id='min_z'>01:</span><span id='sec_z'>00</span>"; 
  // minutes=popol[1];   
  // fetch !!!!!!!!!!!!!!!!!
  var minutes=61;
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????
  // ?????????????????????????????????????????????????

// nowsec = document.getElementById("sec_z").innerHTML;
// nowmin = document.getElementById("min_z").innerHTML;
// console.warn('xx:xx ###@@@ ^^^' + nowsec + nowmin );

// if (nowmin=="01" && mowsec=="00") {
//     console.warn('01:00 !!!!!!! ^^^^^^^^^^');
//     var minutes=61;
// }
// if (nowmin=="00" && mowsec!="00") {
//     console.warn('00:xx !!!!!!! ^^^^^^^^^^');
//     var minutes=mowsec;
// }



let responsez = fetch('/timer-get-sec-on-tablo');
// var minutes='66';


console.log(responsez.text); // OK

if (responsez.status === 200) {
  
    let data =  responsez.text();
    var obj_scnd = JSON.parse(data);
    
    console.warn('############# !!!!!!' + obj_scnd.sec2tablo);
    if (obj_scnd.sec2tablo=="60" ||  obj_scnd.sec2tablo=="61") {
        console.log('sopeZzz SET 60 !!!');
        minutes=61;
        
    }
    if ((obj_scnd.sec2tablo!='60' ||  obj_scnd.sec2tablo!='120') && obj_scnd.status2tablo==2 && obj_scnd.otm2tablo!=2) {
        console.log('GET :SEC @@@@@@@');
        alert(obj_scnd.sec2tablo);
        popol = (obj_scnd.sec2tablo.split(':'));
        console.warn(popol[1]);
        console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
        console.warn(popol[0]);
        document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>";         
        minutes =popol[1];

    }    


    const before_ = obj_scnd.sec2tablo.split(':')[0];
    popol = (obj_scnd.sec2tablo.split(':'));
    console.warn(popol[1]);
    console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
    console.warn(popol[0]);
    document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>"; 
    //  minutes=60;  

    minutes = document.getElementById("sec_z").innerHTML;


    document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>"; 
    // document.getElementById("tiles").innerHTML;
}


  fetchText();
  
  //var countdown = document.getElementById("tiles");
  //countdown.innerHTML = "<span id='min_z'>" +  minutes + ":</span><span id='sec_z'>" + seconds + "</span>"; 
  






  



  // minutes = document.getElementById('sec_z').innerText;
  // countdown.innerHTML = "<span id='min_z'>" +  minutes + ":</span><span id='sec_z'>" + seconds + "</span>"; 
}    
// var minutes = document.getElementById("set-time").value;
// var minutes = document.getElementById("min_z").innerHTML;





//var target_date = new Date().getTime() + ((minutes * 60 ) * 1000); // set the countdown date
var target_date = new Date().getTime() + ((minutes ) * 1000); // set the countdown date
//var time_limit = ((minutes * 60 ) * 1000);
var time_limit = ((minutes ) * 1000);
//set actual timer
idx0 = setTimeout(
  function() 
  {
    document.getElementById("left").innerHTML = "Время истекло";
  }, time_limit );

var days, hours, minutes, seconds; // variables for time units

var countdown = document.getElementById("tiles"); // get tag element

getCountdown();
tID = setInterval(function () {  getCountdown(); }, 1000);



function getCountdown(){
// var time_limit = ((minutes ) * 1000);

getSecondsFRMysql();

// find the amount of "seconds" between now and target
var current_date = new Date().getTime();
var seconds_left = (target_date - current_date) / 1000;
//////////////////////////
/// TIME IS 00:00
//////////////////////////
if ( seconds_left <= 0 ) { 
  console.warn('TIME IS ENDDDD!!!!!!!!!!!!!!!!!!!'); 
  
//SRT////////////////////////////////////////
////////////////////////////////////////////
// SEND WS - refresh / reload / state change = SIGNAL!!!  
setTimeout(function(){
  // reseTimer();

   window.location.reload();
}, 3000);









// SEND WS - refresh / reload / state change = SIGNAL!!!  
//END////////////////////////////////////////
////////////////////////////////////////////


}


if ( seconds_left >= 0 ) {

  console.log(seconds_left);


 if ( (seconds_left * 1000 ) < ( time_limit / 2 ) )  {
   $( '#tiles' ).removeClass('color-full');
   $( '#tiles' ).addClass('color-half');

  } 
  if ( (seconds_left * 1000 ) < ( time_limit / 4 ) )  {
    $( '#tiles' ).removeClass('color-half');
    $( '#tiles' ).addClass('color-empty');
  }

days = pad( parseInt(seconds_left / 86400) );
seconds_left = seconds_left % 86400;
   
hours = pad( parseInt(seconds_left / 3600) );
seconds_left = seconds_left % 3600;
    
minutes = pad( parseInt(seconds_left / 60) );
seconds = pad( parseInt( seconds_left % 60 ) );

// format countdown string + set tag value
countdown.innerHTML = "<span id='min_z'>" +  minutes + ":</span><span id='sec_z'>" + seconds + "</span>"; 

//****


////////////////////////
////////////////////////
//// record SECONDS (Timer:TimeSeconds) //
//fetchText();
////////////////////////
////////////////////////


}
 


}
///////////////////////////////////////////////////////////
  let status = 1; // 1=start;2=pause;0=unstate
  let x_min = document.getElementById("one_two_min");
  if (x_min.checked) {  status=2 }
  if (!x_min.checked) {  status=1 }
  const object = { status: 3, isid: 1 };
  const response = await fetch('/timer-start/'+status, {
    method: 'GET',
    // body: JSON.stringify(object)
  });
  const responseText = await response.text();
  console.log(responseText); // logs 'OK'
}




// SELECT ROUND(TIME_TO_SEC(TIMEDIFF((SELECT `curr_timestamp` FROM `v7timer` WHERE 1),(SELECT `start_timestamp` FROM `v7timer` WHERE 1))),0);
// SELECT ROUND(TIME_TO_SEC(TIMEDIFF('2023-02-10 23:52:50.539761','2023-02-10 23:52:32.740431')),0);
// SELECT ROUND(TIME_TO_SEC(TIMEDIFF('2023-02-10 23:52:50.539761','2023-02-10 23:52:32.740431')),0);
// SELECT ROUND(TIME_TO_SEC(TIMEDIFF('2023-02-10 23:52:50.539761','2023-02-10 23:52:32.740431')),0);
// SELECT ROUND(TIME_TO_SEC(TIMEDIFF('2023-02-10 23:52:50.539761','2023-02-10 23:52:32.740431')),0);



async function v7timer_pause() {
  ///////////////////////////////////////////////////////////
// clearInterval(getCountdown);
// clearInterval(idx);


// let responsez = fetch('/timer-get-sec-on-tablo');
// console.log(responsez.text); // OK

// if (responsez.status === 200) {
//     let data =  responsez.text();
//     var obj_scnd = JSON.parse(data);
//     console.warn('############# !!!!!!' + obj_scnd.sec2tablo);
//     const before_ = obj_scnd.sec2tablo.split(':')[0];

//     popol = (obj_scnd.sec2tablo.split(':'));
//     console.warn(popol[1]);
//     console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
//     console.warn(popol[0]);
//     document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>"; 

// }

///////////////




// var minutes = $( '#set-time' ).val();
var minutes = document.getElementById("sec_z").innerHTML;
console.warn('MINUTEZ: ******* ' + minutes);

var target_date = new Date().getTime() + ((minutes * 60 ) * 1000); // set the countdown date
var time_limit = ((minutes * 60 ) * 1000);
//set actual timer
// let idx0 = setTimeout(
//   function() 
//   {
//     document.getElementById("left").innerHTML = "Время истекло";
//   }, time_limit );

//???????????????????????????????
clearInterval(idx0);
clearInterval(tID);

///////////////////////////////////////////////////////////
  let status = 1; // 1=start;2=pause;0=unstate
  const object = { status: 3, isid: 2 };
  const response = await fetch('/timer-pause', {
    method: 'GET',
    // body: JSON.stringify(object)
  });
  const responseText = await response.text();
  console.log(responseText); // logs 'OK'
}

async function v7timer_stop() {
  let status = 0; // 1=start;2=pause;0=stop
  const object = { status: 3, isid: 0 };
  const response = await fetch('/timer-stop', {
    method: 'GET',
    // body: JSON.stringify(object)
  });
  const responseText = await response.text();
  console.log(responseText); // logs 'OK'
}


async function reseTimer
() {
  let status = 0; // 1=start;2=pause;0=stop
  const object = { status: 0, isid: 0 };
  const response = await fetch('/timer-reset', {
    method: 'GET',
    // body: JSON.stringify(object)
  });
  const responseText = await response.text();
  console.log(responseText); // logs 'OK'  
}

async function fetchText() {
    let response = await fetch('/timer-get-sec-on-tablo');

    // console.log(response.status); // 200
    // console.log(response.statusText); // OK
    console.log(response.text); // OK

    if (response.status === 200) {
        let data = await response.text();
        var obj_scnd = JSON.parse(data);
        console.warn('############# %%%%%%%' + obj_scnd.sec2tablo);
        // const before_ = obj_scnd.sec2tablo.split(':')[0];
        // const before_ = obj_scnd.sec2tablo.split(':')[0];

        // popol = (obj_scnd.sec2tablo.split(':'));
        // console.warn(popol[1]);
        // console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
        // console.warn(popol[0]);
        // document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>"; 
        if ((obj_scnd.sec2tablo!='01:00' ||  obj_scnd.sec2tablo!='02:00') && obj_scnd.status2tablo==2 && obj_scnd.otm2tablo!=2) {
        console.log('GET :SEC @@@@@@@');
        popol = (obj_scnd.sec2tablo.split(':'));
        console.warn(popol[1]);
        console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
        console.warn(popol[0]);
        document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>";         
        minutes =popol[1];

    }   

        if ((obj_scnd.sec2tablo!='60' ||  obj_scnd.sec2tablo!='120') && obj_scnd.status2tablo==2 && obj_scnd.otm2tablo!=2) {
        console.log('GET :SEC @@@@@@@');
        popol = (obj_scnd.sec2tablo.split(':'));
        console.warn(popol[1]);
        console.warn('=-=-=-=-=-=-=-=-=-=-=-=-=-=-');
        console.warn(popol[0]);
        document.getElementById("tiles").innerHTML = "<span id='min_z'>" +  popol[0] + ":</span><span id='sec_z'>" + popol[1] + "</span>";         
        minutes =popol[1];

    }    

        // handle data
    }
    
}


</script>




<script>
  /* grab necessary elements */
// grab the .form
const form = document.querySelector('.form');
// grab the .time-input
const timeInput = document.querySelector('.time-input');
// grab the select[name='format']
const format = document.querySelector("select[name='format']");
// grab the .set-btn
const setBtn = document.querySelector('.set-btn');
// grab the .countdown
const countDown = document.querySelector('.countdown');
// grab the .stop-btn 
const stopBtn = document.querySelector('.stop-btn');
// grab the .reset-btn
const resetBtn = document.querySelector('.reset-btn');
/* grab necessary elements ends */ 


/* global variables and constants*/
// variable to store setInterval
let countDownInterval;

// secondsLeft in millisecond
let secondsLeftms;
// end time
let endTime;
// .stop-btn clicked or not
let stopBtnClicked = false;
/* global variables ends */


/* .stop-btn click listener */
stopBtn.addEventListener('click', () => {
  // toggle the value of 'stopBtnClicked'
  stopBtnClicked = !stopBtnClicked;

  // if STOP button is clicked
  if (stopBtnClicked === true) {
    timer_pause();
    // change the text to 'PLAY'
    stopBtn.innerHTML = 'СТАРТ';
    // enable the .reset-btn
    resetBtn.disabled = false;
    // clear the setInterval() inorder to freeze the countdown timer
    clearInterval(countDownInterval);
  } else if (stopBtnClicked === false) {
    timer_play();
    // if PLAdisabled Y button is clicked
    // then change text to 'STOP'
    stopBtn.innerHTML = 'СТОП';
    // disable the .reset-btn
    resetBtn.disabled = true;
    // then udisabled pdate endTime
    endTime = secondsLeftms + Date.now();
    // set a new setInterval()
    countDownInterval = setInterval(() => {
      // setCoundisabled counttDown(endTime);
    }, 1000);
  }
});
/* .stop-btn click listenerdisabled  ends */


/* .reset-btn click listener */
resetBtn.addEventListener('click', () => {
  resetCountDown();
});
/* .reset-btn click listener ends */


/* .form submit listener */
form.addEventListener('submit', (event) => {
  // prevent the default page reloading
  event.preventDefault();

  // get the countdown time user typed
  let countDownTime = timeInput.value;

  // check if it is not zero
  if (countDownTime > 0) {
    // check which is the format, ie the <select> element's value
    if (format.value === 'hours') {
      // convert hours to milliseconds
      // 1 hrs = 3600000 ms (5 zeros)
      countDownTime = countDownTime * 3600000;
    } else if (format.value === 'minutes') {
      // 1 minute = 60000 ms (4 zeros)
      countDownTime = countDownTime * 60000;
    } else if (format.value === 'seconds') {
      // 1 seconds = 1000 ms (3 zeros)
      countDownTime = countDownTime * 1000;
    }

    // get current time in milliseconds
    const now = Date.now();
    // calculate the ending time
    endTime = now + countDownTime;

    // activate the countdown at first
    setCountDown(endTime);

    countDownInterval = setInterval(() => {
      setCountDown(endTime);
    }, 1000);

    // then disable the .set-btn
    setBtn.disabled = true;
    // then enable the .stop-btn
    stopBtn.disabled = false;
disabled   }

});
/* .form submit listener disabled disabled ends */


/* setCountDown function */
const setCountDown = (endTime) => {
  // calculate how many mdisabled illiseconds is left to reach endTime from now
  secondsLeftms = endTime - Date.now();
  // convert it to seconds
  const secondsLeft = Math.round(secondsLeftms / 1000);

  // calculate the hours, minutes and seconds
  let hours = Math.floor(secondsLeft / 3600);
  let minutes = Math.floor(secondsLeft / 60) - (hours * 60);
  let seconds = secondsLeft % 60;

  // adding an extra zero infront of digits if it is < 10
  if (hours < 10) {
    hours = `0${hours}`;
  }
  if (minutes < 10) {
    minutes = `0${minutes}`;
  }
  if (seconds < 10) {
    seconds = `0${seconds}`;
  }

  // stopping the timer if the time is up 
  if (secondsLeft < 0) {
    resetCountDown();
    return;
  }

  // set the .countdown text
  countDown.innerHTML = `${minutes} : ${seconds}`;
  document.getElementById("tiles").innerHTML = `<span id='min_z'>${minutes}</span><span id='sec_z'>:${seconds}</span>`;


};
/* setCountDown function ends */


/* resetCountDown function */
const resetCountDown = () => {
  // destroy the setInterval()
  clearInterval(countDownInterval);
  // reset the countdown text
  countDown.innerHTML = '00 : 00';
  // set stopBtnClicked = false
  stopBtnClicked = false;
  // change inner text to STOP
  stopBtn.innerHTML = 'СТОП';

  // enable .set-btn
  setBtn.disabled = false;

  // disable .stop-btn and .reset-btn
  stopBtn.disabled = true;
  resetBtn.disabled = true;
};
/* resetCountDown function edisabled nds */


function  restartApp() {
  console.info('[ R ] was pressed RELOAD DATA! 🔄 ->');
  // document.getElementByIddisabled ("restart_flow_form").submit();
  window.location.reload(true);
} 


function start_wrapper() {

    timer_play();
    console.warn('####### START the v7pro TIMER @');

    stop_btnz = document.getElementById("stop_v7timer");
    start_btnz = document.getElementById("start_v7timer");
    hmz_second = document.getElementById("hm_seconds");
    otm_div = document.getElementById("otm_div");
    slabel = document.getElementById("s-label");
    
    stop_btnz.classList.remove("hidden");
    start_btnz.classList.add("hidden");
    hmz_second.classList.add("hidden");
    otm_div.classList.add("hidden");
    slabel.classList.add("hidden");
}

</script>


























<div id="btn_panel" class="hidden border-2 px-0.5 mx-9 bg-gray-400">
  <div class="w-80 mx-auto mt-1 p-7">
      <button class="bg-white border-dotted flex justify-center border-2 border-red-500 w-full h-48 text-red-500 rounded-md px-2 py-2 text-base font-medium hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-red-300" 
              id="jx1" onclick="pYes(); j1Vote(11);">
              <svg class="w-40 h-40 tenb" fill="none" stroke="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      </button>
  </div>

  <div class="w-80 mx-auto mt-1 p-7">
      <button class="bg-red-500 border-dotted flex justify-center border-2 border-white w-full h-48 text-white rounded-md px-2 py-2 text-base font-medium hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-300" 
              id="jx0" onclick="pNo(); j1Vote(10);">
              <svg class="w-40 h-40 tenb" fill="none" stroke="#000000" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      </button>
  </div>
</div>

    


<script>


  function pYes() {
      console.warn('vote YES!!!');
      var yaudio = new Audio('../static/snd/j_yes_btn.mp3');
      yaudio.play();
  }
  
  function pNo() {
      console.warn('vote NO!!!');
      var naudio = new Audio('../static/snd/j_not_btn.mp3');
      naudio.play();
  }
  
  function pCancel() {
      console.warn('vote CANCEL!!!');
      var caudio = new Audio('../static/snd/j_cancel_btn.mp3');
      caudio.play();
  }
  
  
  
  function j1Vote(votez) {
  
      $(document).ready(function() {
          // Connect to the Socket.IO server.
          // The connection URL has the following format, relative to the current page:
          //     http[s]://<domain>:<port>[/<namespace>]
          var app_ip = "{{appHost}}";
          var app_port = "{{appPort}}";
          var clean_app_ip = app_ip.substring(5);
          var clean_app_ip = clean_app_ip.slice(0, -5);
          var socket = io('ws://'+clean_app_ip+':'+app_port+'/',{
          transports: ["websocket", "polling"] // use WebSocket first, if available
          });
          socket.on('my_response', function(msg, cb) {
              $('#log').append('<br>' + $('<div/>').text('Received #' + msg.count + ': ' + msg.data).html());
              if (msg.data==11) {
                  // pYes();
                  //
                  // document.getElementById("broadcast_data").value = 1;
                  //document.getElementById("broadcast").submit();
                  // socket.emit('my_broadcast_event', {data: "1"});
                  socket.emit('my_broadcast_event', {data: 11});
                  $('#j1-2').css("background-color","white");
                  $('#j1-3').css("background-color","white");                
                  $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
              }
              if (msg.data==10) {
                  // pNo();
                  //
                  // document.getElementById("broadcast_data").value = "0";
                  // document.getElementById("broadcast").submit();
                  socket.emit('my_broadcast_event', {data: 10});                
                  $('#j1-2').css("background-color","red");
                  $('#j1-3').css("background-color","red");
                  $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
              }
              if (msg.data==19) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 19});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  $('#j1-2').css("background-color","black");
                  $('#j1-3').css("background-color","black");
                  console.log('99');
                  $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
              }
  
  
              // calling judge!!!
  
              if (msg.data==17) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 17});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU!');
                  
                  $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
              }
              if (msg.data==27) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 27});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU! 27');
                  
                  $('#log').append('<br>' + $('<div/>').text('is 27#' + msg.count + ': ' + msg.data).html());
              }                                    
              if (msg.data==37) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 37});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU! 37');
                  
                  $('#log').append('<br>' + $('<div/>').text('is 37#' + msg.count + ': ' + msg.data).html());
              }                        
              // socket.emit('my_broadcast_event', {data: 1});
  
  
          });
  
  
  
  
  
  
  
          
      });
  
  
      var queryParams = new URLSearchParams(window.location.search);
      queryParams.set("vote", votez);
      history.replaceState(null, null, "?"+queryParams.toString());
      s1jbtns1 = document.getElementById("jx1");
      s1jbtns0 = document.getElementById("jx0");
      spinner = document.getElementById("spinner");
  
      //ws:::cdd
      
      
      pan_btn  = document.getElementById("btn_panel");
      console.log('j1 VOTE: ', votez);
      
      //
      // ws://
  
  
  
      var app_ip = "{{appHost}}";
      var app_port = "{{appPort}}";
      var clean_app_ip = app_ip.substring(5);
      var clean_app_ip = clean_app_ip.slice(0, -5);
      var socket = io('ws://'+clean_app_ip+':'+app_port+'/',{
          transports: ["websocket", "polling"] // use WebSocket first, if available     
          });    
      socket.emit('my_broadcast_event', {data: votez});
      
      
      // document.getElementById("broadcast").submit();
  
      // document.getElementById("broadcast_data").value = '1';
      // document.getElementById("sub_btn").click();
  
      //socket.emit('my_broadcast_event', {data: 33 });
      // document.getElementById("broadcast_data").value = '1';
      // document.getElementById("broadcast").submit();
      
      
      s1jbtns1.style.display = 'none';
      pan_btn.style.display = 'none';
      s1jbtns0.style.display = 'none';
      
      document.getElementById("spinner_div").classList.remove('hidden');
      document.getElementById("spinner_div").classList.add('visible');
  
      setTimeout(function(){
              window.location.reload(true)
              //window.location = window.location.host;
           }, 1234);    
      
  
           //document.getElementById("broadcast").submit();   
  }
  
  </script>
  
  
  <script type="text/javascript" charset="utf-8">
      $(document).ready(function() {
          // Connect to the Socket.IO server.
          // The connection URL has the following format, relative to the current page:
          //     http[s]://<domain>:<port>[/<namespace>]
          var app_ip = "{{appHost}}";
          var app_port = "{{appPort}}";
          var clean_app_ip = app_ip.substring(5);
          var clean_app_ip = clean_app_ip.slice(0, -5);
          var socket = io('ws://'+clean_app_ip+':'+app_port+'/',{
          transports: ["websocket", "polling"] // use WebSocket first, if available
          });
  
          
  
          // Event handler for new connections.
          // The callback function is invoked when a connection with the
          // server is established.
          socket.on('connect', function() {
              socket.emit('my_event', {data: 'I\'m connected!'});
          });
  
          // Event handler for server sent data.
          // The callback function is invoked whenever the server emits data
          // to the client. The data is then displayed in the "Received"
          // section of the page.
          socket.on('my_response', function(msg, cb) {
              $('#log').append('<br>' + $('<div/>').text('Received #' + msg.count + ': ' + msg.data).html());
              if (msg.data==1) {
                  $('#log').append('<br>' + $('<div/>').text('is ONE!#' + msg.count + ': ' + msg.data).html());
              }
  
              if (msg.data==17) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 17});
                  //
  
                  
  
      s1jbtns1 = document.getElementById("jx1");
      s1jbtns0 = document.getElementById("jx0");
      spinner = document.getElementById("spinner2");
      pan_btn  = document.getElementById("btn_panelz");
      s1jbtns1.style.display = 'none';
      pan_btn.style.display = 'none';
      s1jbtns0.style.display = 'none';
      
      document.getElementById("spinner_div_invite").classList.remove('hidden');
      document.getElementById("spinner_div_invite").classList.add('visible');
      document.getElementById("invite_id").classList.remove('hidden');
      document.getElementById("invite_id").classList.add('visible');    
      
      
  
  
  
                  window.setInterval(function() {
                  window.location.reload();                       
  
                      }, 300000);                
  
  
                  
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU! 17');
                  
                  $('#log').append('<br>' + $('<div/>').text('is 17#' + msg.count + ': ' + msg.data).html());
              }
              if (msg.data==27) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 27});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU! 27');
                  
                  $('#log').append('<br>' + $('<div/>').text('is 27#' + msg.count + ': ' + msg.data).html());
              }                                    
              if (msg.data==37) {
                  // pCancel();
                  socket.emit('my_broadcast_event', {data: 37});
                  // $('#j1-2').css("background-color","blue");
                  // $('#j1-3').css("background-color","blue");
                  console.log('inviting YOU! 37');
                  
                  $('#log').append('<br>' + $('<div/>').text('is 37#' + msg.count + ': ' + msg.data).html());
              }
  
  
  
              
              if (cb)
                  cb();
          });
  
          // Interval function that tests message latency by sending a "ping"
          // message. The server then responds with a "pong" message and the
          // round trip time is measured.
          var ping_pong_times = [];
          var start_time;
          window.setInterval(function() {
              start_time = (new Date).getTime();
              $('#transport').text(socket.io.engine.transport.name);
              socket.emit('my_ping');
          }, 1000);
  
          // Handler for the "pong" message. When the pong is received, the
          // time from the ping is stored, and the average of the last 30
          // samples is average and displayed.
          socket.on('my_pong', function() {
              var latency = (new Date).getTime() - start_time;
              ping_pong_times.push(latency);
              ping_pong_times = ping_pong_times.slice(-30); // keep last 30 samples
              var sum = 0;
              for (var i = 0; i < ping_pong_times.length; i++)
                  sum += ping_pong_times[i];
              $('#ping-pong').text(Math.round(10 * sum / ping_pong_times.length) / 10);
          });
  
  
  
  
          
          // Handlers for the different forms in the page.
          // These accept data from the user and send it to the server in a
          // variety of ways
          $('form#emit').submit(function(event) {
              socket.emit('my_event', {data: $('#emit_data').val()});
              return false;
          });
          $('form#broadcast').submit(function(event) {
              socket.emit('my_broadcast_event', {data: $('#broadcast_data').val()});
              return false;
          });
          $('form#join').submit(function(event) {
              socket.emit('join', {room: $('#join_room').val()});
              return false;
          });
          $('form#leave').submit(function(event) {
              socket.emit('leave', {room: $('#leave_room').val()});
              return false;
          });
          $('form#send_room').submit(function(event) {
              socket.emit('my_room_event', {room: $('#room_name').val(), data: $('#room_data').val()});
              return false;
          });
          $('form#close').submit(function(event) {
              socket.emit('close_room', {room: $('#close_room').val()});
              return false;
          });
          $('form#disconnect').submit(function(event) {
              socket.emit('disconnect_request');
              return false;
          });
      });
  
      
  </script>


<script>
  

async function reloadPage() {

document.getElementById("tzt").classList.add("blinking");
document.getElementById("app-succsess01").classList.remove("hidden");
$("#app-succsess02").show(); 
window.setTimeout(function() {
  $("#app-succsess02").fadeTo(500, 0).slideUp(400, function(){
    console.info('app-succsess01 is CLOSE');
      $(this).hide(); 
      // j1Vote(77);
      // j1Vote();
      window.location.reload();
  });
}, 3456);
}

async function invite_j1() {

  document.getElementById("invite_g1").classList.add("blinking");
  document.getElementById("app-succsess01").classList.remove("hidden");
  $("#app-succsess02").show(); 
  window.setTimeout(function() {
    $("#app-succsess02").fadeTo(500, 0).slideUp(400, function(){
      console.info('app-succsess01 is CLOSE');
        $(this).hide(); 
        j1Vote(17);
        window.location.reload();
    });
}, 3456);
}

async function invite_j2() {
  document.getElementById("invite_g2").classList.add("blinking");
  // document.getElementById("app-succsess01").classList.remove("hidden");
  $("#app-succsess02").show(); 
  window.setTimeout(function() {
    $("#app-succsess02").fadeTo(500, 0).slideUp(400, function(){
      console.info('app-succsess01 is CLOSE');
        $(this).hide(); 
        j1Vote(27);
        window.location.reload();
    });
}, 2345);
}


async function invite_j3() {
  document.getElementById("invite_g3").classList.add("blinking");
  // document.getElementById("app-succsess01").classList.remove("hidden");
  $("#app-succsess02").show(); 
  window.setTimeout(function() {
    $("#app-succsess02").fadeTo(500, 0).slideUp(400, function(){
      console.info('app-succsess01 is CLOSE');
        $(this).hide(); 
        j1Vote(37);
        window.location.reload();
    });
}, 2345);
}

</script>
  
  
  <div class="hidden">
      <p>
        Current transport is: <b><span id="transport"></span></b><br>
        Average ping/pong latency: <b><span id="ping-pong"></span>ms</b>
      </p>
      <h2>Send:</h2>
      <form id="broadcast" method="POST">
          <input type="text" name="broadcast_data" id="broadcast_data" placeholder="Message">
          <input id="sub_btn" type="submit" value="Broadcast">
      </form>
  
      <!-- <form id="disconnect" method="POST" action="#">
          <input type="submit" value="Disconnect">
      </form> -->
  
      <h2>Receive:</h2>
      <div id="log"></div>    
  </div>

</body>
</html>